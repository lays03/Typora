# 2023.1.11

1. 找到在ns2.33下基于Ramon的博客，意思是在ns2.33下对AODV扩展成功了，所以**准备安装ns2.3**

2. 为什么不在ns3下面试？

   **方案里面需要修改的tcl文件，ns3里面没这个文件**



多信道扩展完成后的期望结果：

1. 特定场景中的**信道数量**应该是可修改的。
2. **每个节点的接口数量是可变的，不需要对单个场景中的所有节点都相同**。
3. 同一场景中的每个节点都可以连接到不同数量的信道。
4. **路由代理可以利用修改后的模型**，但必须保留模拟器的遗留操作，以确保向后兼容。



- [x] ns2需要在ubuntu16下安装，目前已安装
- [x] 需要在调用节点配置过程之前创建信道(将其作为参数提供)

​	**修改Tcl Code：ns-lib.tcl和ns-mobilenode.tcl文件** （ns3中没有这样的文件，安装ns2）

<img src="C:\Users\27252\AppData\Roaming\Typora\typora-user-images\image-20230110142631838.png" alt="image-20230110142631838" style="zoom: 33%;" />

- [x] <font color=red>**修改tcl文件**</font>

​		**允许节点创建多接口并获取接口数量**

- 在创建无线节点之前调用第一个**change-numifs**，并<font color=red>**允许用户为每个节点指定不同数量的接口**</font>。显然，如果只调用一次，它将影响所有节点。稍后将看到，这个过程从场景脚本中调用，需要一个参数，即特定节点拥有的接口数量。

- 第二个<font color=red>**允许向节点添加接口(信道)**</font>;在创建节点之前，也必须从场景脚本调用它，并且需要两个参数:第一个参数是节点内该接口的索引，而第二个参数是信道本身。

- <font color=red>**获取接口数量**</font>：我们在ns-lib中添加的第三个过程。不需要从场景脚本中调用TCL，但是我们需要从TCL体系结构的其他部分收集接口的数量，稍后将看到。它被称为**get-numifs**

- 最后，我们需要创建另一个过程，这样我们就可以将接口的数量作为参数添加到Tcl脚本的**node-config**命令中

- [x] <font color=red>**修改C++文件**</font>(修改了mobilenode.[cc,h]，channel.cc，mac-802_11.cc文件，文件里面的代码)

  大多数更改都在模拟器的Tcl实现中完成。但是，还需要在c++文件中做一些修改，以便能够适应新的框架。大多数更改会影响模拟器处理MobileNode类的方式

  - [ ] 更改路由协议代码（以AODV为例，修改了aodv. [cc, h]，aodv_rtable.[cc, h]）<font color=red>**如何调整路由代理以使用多个接口，并根据实例模拟**</font>

  - **在路由代理实现中添加所需要的功能（什么接口传输什么数据包）**

  - **更改路由表（仅仅知道下一跳是不够的，但是路由代理必须知道它需要使用哪个输出接口才能到达它）**

---

- [ ] 知网论文：无线双通道Ad Hoc网络分层路由协议设计与分析

opnet模拟



